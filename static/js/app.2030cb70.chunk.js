(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{53:function(e,t,n){"use strict";var s=n(27),a=n.n(s),r=n(28),o=n.n(r),i=n(29),c=n.n(i),f=n(30),l=n.n(f),u=n(20),d=n.n(u),m=(n(76),n(1)),h=n.n(m),M=n(4),p=n(12),b=n(5),g=n(43),F=n(42),y=n(71),q=n(8);n(79);function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(s,arguments,a)}else n=s.apply(this,arguments);return l()(this,n)}}if(!q.a.apps.length){q.a.default.initializeApp({apiKey:"AIzaSyCs5AfLDY0g9306B1yp7W1DzDj2wJkhwqo",authDomain:"swweb-f7b67.firebaseapp.com",databaseURL:"https://swweb-f7b67.firebaseio.com",projectId:"swweb-f7b67",storageBucket:"swweb-f7b67.appspot.com",messagingSenderId:"624196455015",appId:"1:624196455015:web:a6b40fdb25701eb7a7a2c2",measurementId:"G-549CBLCS3L"});q.a.default.database()}function _(e,t,n,s){var a={};if(e<t){var r={firstFreq:n,secondFreq:s};a["/Monsters/results/"+e+"/secondMon/"+t]=r}else if(e>t){r={firstFreq:s,secondFreq:n};a["/Monsters/results/"+t+"/secondMon/"+e]=r}q.a.database().ref().update(a)}var w=function(e){c()(n,e);var t=v(n);function n(e){var s;return a()(this,n),(s=t.call(this,e)).state={firstMonId:"",firstMonImg:"",firstMonName:"",firstMonFreq:0,secondMonId:"",secondMonImg:"",secondMonName:"",secondMonFreq:0,numMon:97,allMonPage:"https://swarfarm.com/api/bestiary",monsterPage:"https://swarfarm.com/api/v2/monsters/?id__in=&com2us_id=&family_id=&base_stars=6&base_stars__lte=&base_stars__gte=&natural_stars=5&natural_stars__lte=&natural_stars__gte=&obtainable=&fusion_food=&homunculus=false&name=&element=pure&element=fire&element=wind&element=water&awaken_level=1&order_by=",pressed:!1},s}return o()(n,[{key:"incFirstFreq",value:function(){this.state.pressed||(this.setState({pressed:!0,firstMonFreq:this.state.firstMonFreq+1}),_(this.state.firstMonId,this.state.secondMonId,this.state.firstMonFreq+1,this.state.secondMonFreq))}},{key:"incSecondFreq",value:function(){this.state.pressed||(this.setState({pressed:!0,secondMonFreq:this.state.secondMonFreq+1}),_(this.state.firstMonId,this.state.secondMonId,this.state.firstMonFreq,this.state.secondMonFreq+1))}},{key:"updateMonster",value:function(e,t){var n=this;this.setState({pressed:!1});for(var s=[19200,17100,24600,23600,24100,24200,24e3],a=[13813,14511,21212,22612],r=75,o=91;o==r;)o=Math.floor(Math.random()*e);fetch(this.state.monsterPage).then((function(e){return e.json()})).then((function(t){for(;-1!=s.indexOf(t.results[r].family_id)||-1!=a.indexOf(t.results[r].com2us_id);)r=Math.floor(Math.random()*e);for(;-1!=s.indexOf(t.results[o].family_id)||-1!=a.indexOf(t.results[o].com2us_id);)o=Math.floor(Math.random()*e);var i=function(e,t){var n=0,s=0;if(e<t){var a=q.a.database().ref("/Monsters/results/"+e+"/secondMon/"+t+"/firstFreq/"),r=q.a.database().ref("/Monsters/results/"+e+"/secondMon/"+t+"/secondFreq/");a.on("value",(function(e){n=e})),r.on("value",(function(e){s=e}))}else if(e>t){a=q.a.database().ref("/Monsters/results/"+t+"/secondMon/"+e+"/firstFreq/"),r=q.a.database().ref("/Monsters/results/"+t+"/secondMon/"+e+"/secondFreq/");a.on("value",(function(e){s=e})),r.on("value",(function(e){n=e}))}return[n,s]}(r,o),c=JSON.stringify(i[0]),f=JSON.stringify(i[1]),l=JSON.parse(c),u=JSON.parse(f);r<o?n.setState({firstMonFreq:l,secondMonFreq:u}):n.setState({firstMonFreq:u,secondMonFreq:l});var d=t.results[r],m=t.results[o];n.setState({firstMonId:r,firstMonImg:d.image_filename,firstMonName:d.name,secondMonId:o,secondMonImg:m.image_filename,secondMonName:m.name})}))}},{key:"componentDidMount",value:function(){this.updateMonster(this.state.numMon,this.state.monsterPage)}},{key:"render",value:function(){var e=this,t=this.state,n=t.numMon,s=t.monsterPage,a=t.firstMonFreq,r=t.secondMonFreq,o=0,i=0;return a+r!=0&&(o=(a/(a+r)*100).toFixed(2),i=(r/(a+r)*100).toFixed(2)),h.a.createElement(b.a,{style:I.container},h.a.createElement(b.a,{style:I.comparisonContainer},h.a.createElement(b.a,{style:I.monsterContainer},h.a.createElement(F.a,{onPress:function(){e.incFirstFreq()}},h.a.createElement(g.a,{fadeDuration:1e3,source:{uri:"https://swarfarm.com/static/herders/images/monsters/"+this.state.firstMonImg},style:{width:128,height:128}})),h.a.createElement(p.a,null,o," %")),h.a.createElement(p.a,null," vs. "),h.a.createElement(b.a,{style:I.monsterContainer},h.a.createElement(F.a,{onPress:function(){e.incSecondFreq()}},h.a.createElement(g.a,{fadeDuration:1e3,source:{uri:"https://swarfarm.com/static/herders/images/monsters/"+this.state.secondMonImg},style:{width:128,height:128}})),h.a.createElement(p.a,null,i," %"))),h.a.createElement(b.a,{style:I.comparisonContainer},h.a.createElement(p.a,null,a),h.a.createElement(p.a,null," vs. "),h.a.createElement(p.a,null,r)),h.a.createElement(y.a,{onPress:function(){e.updateMonster(n,s)},title:"Show Me Two Other Monsters!",color:"#DB8E71"}))}}]),n}(h.a.Component),I=M.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"},comparisonContainer:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",flexDirection:"row"},monsterContainer:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",flexDirection:"column"}});t.a=w},72:function(e,t,n){e.exports=n(90)}},[[72,1,2]]]);
//# sourceMappingURL=app.2030cb70.chunk.js.map